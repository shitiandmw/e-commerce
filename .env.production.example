# ============================================================================
# 生产环境配置模板
# 复制为 .env.production 并填入实际值
# 用法: docker compose --env-file .env.production up --build -d
# ============================================================================

# ---- 端口映射（宿主机端口，可按需修改避免冲突） ----
POSTGRES_PORT=45432
REDIS_PORT=46379
MEDUSA_PORT=49000
ADMIN_PORT=43002
STOREFRONT_PORT=43000
NGINX_PORT=40080

# ---- 数据库 ----
POSTGRES_USER=medusa
POSTGRES_PASSWORD=change_me_to_a_strong_password
POSTGRES_DB=medusa_ecommerce

# ---- Medusa 后端 ----
JWT_SECRET=change_me_jwt_secret
COOKIE_SECRET=change_me_cookie_secret
DATABASE_URL=postgres://medusa:change_me_to_a_strong_password@postgres:5432/medusa_ecommerce
REDIS_URL=redis://redis:6379

# CORS — 根据实际域名修改
STORE_CORS=http://localhost:43000
ADMIN_CORS=http://localhost:43002
AUTH_CORS=http://localhost:43002,http://localhost:43000

# Stripe（可选）
STRIPE_API_KEY=
STRIPE_WEBHOOK_SECRET=

# ---- 前端构建参数 ----
# Admin UI 访问后端的地址（浏览器端，需要是用户可访问的地址）
NEXT_PUBLIC_MEDUSA_BACKEND_URL_ADMIN=http://localhost:49000
# Storefront 访问后端的地址
NEXT_PUBLIC_MEDUSA_BACKEND_URL_STORE=http://localhost:49000
# Storefront Publishable API Key
NEXT_PUBLIC_MEDUSA_PUBLISHABLE_KEY=

# ---- Nginx 域名（仅 with-nginx profile 使用） ----
STORE_DOMAIN=store.example.com
ADMIN_DOMAIN=admin.example.com
API_DOMAIN=api.example.com
